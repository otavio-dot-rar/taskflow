(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{2626:(e,r,s)=>{"use strict";s.d(r,{ProjectSelector:()=>w});var a=s(5432),t=s(1220),o=s(9594),n=s(3250),l=s(8464),i=s(7040);function d(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,i.QP)((0,l.$)(r))}let c=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function u(e){let{className:r,variant:s,size:t,asChild:n=!1,...l}=e,i=n?o.DX:"button";return(0,a.jsx)(i,{"data-slot":"button",className:d(c({variant:s,size:t,className:r})),...l})}function x(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card",className:d("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...s})}function m(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:d("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...s})}function h(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:d("leading-none font-semibold",r),...s})}function g(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:d("text-muted-foreground text-sm",r),...s})}function v(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:d("px-6",r),...s})}function f(e){let{className:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"card-footer",className:d("flex items-center px-6 [.border-t]:pt-6",r),...s})}var p=s(6656),j=s(7646),b=s(6351);function w(){let[e,r]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null),[n,l]=(0,t.useState)(null),i=async()=>{try{var e;r(!0),l(null),console.log("window.electronAPI:",window.electronAPI),console.log("openProjectDialog method:",null==(e=window.electronAPI)?void 0:e.openProjectDialog);let s=await window.electronAPI.openProjectDialog();if(!s)return void r(!1);let a=await window.electronAPI.loadWorkspace(s);if(!a.success)throw Error(a.error||"Failed to load workspace");o(a.data||null),console.log("Workspace loaded:",a.data)}catch(e){console.error("Error loading project:",e),l(e instanceof Error?e.message:"Unknown error occurred")}finally{r(!1)}};return s?(0,a.jsxs)(x,{className:"w-full max-w-2xl mx-auto",children:[(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Projeto Carregado"]}),(0,a.jsx)(g,{children:s.projectPath})]}),(0,a.jsx)(v,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Arquivos encontrados:"})," ",s.files.length]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Carregado em:"})," ",new Date(s.loadedAt).toLocaleString()]})]}),s.files.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Arquivos .mdc:"}),(0,a.jsx)("div",{className:"space-y-1 max-h-40 overflow-y-auto",children:s.files.map((e,r)=>(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm p-2 bg-muted rounded-md",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-mono text-xs",children:e.fileName})]},r))})]}),s.scanErrors&&s.scanErrors.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("h4",{className:"font-medium text-yellow-700 flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),"Avisos:"]}),(0,a.jsx)("div",{className:"space-y-1 max-h-32 overflow-y-auto",children:s.scanErrors.map((e,r)=>(0,a.jsx)("div",{className:"text-xs text-yellow-700 bg-yellow-50 p-2 rounded-md",children:e},r))})]})]})}),(0,a.jsx)(f,{children:(0,a.jsx)(u,{variant:"outline",onClick:()=>o(null),className:"w-full",children:"Selecionar Outro Projeto"})})]}):(0,a.jsxs)(x,{className:"w-full max-w-md mx-auto",children:[(0,a.jsxs)(m,{children:[(0,a.jsxs)(h,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.A,{className:"h-5 w-5"}),"Selecionar Projeto"]}),(0,a.jsx)(g,{children:"Escolha uma pasta que contenha arquivos .mdc para visualizar no Kanban"})]}),(0,a.jsxs)(v,{children:[n&&(0,a.jsxs)("div",{className:"mb-4 p-3 text-sm text-red-700 bg-red-50 border border-red-200 rounded-md flex items-center gap-2",children:[(0,a.jsx)(b.A,{className:"h-4 w-4"}),n]}),(0,a.jsx)(u,{onClick:i,disabled:e,className:"w-full",children:e?"Carregando...":"Selecionar Pasta"})]})]})}},5290:(e,r,s)=>{Promise.resolve().then(s.bind(s,2626))}},e=>{var r=r=>e(e.s=r);e.O(0,[512,434,155,358],()=>r(5290)),_N_E=e.O()}]);